class TWBB_NavMenuActions{constructor(){}bulkEditMenu(t,e){this.addDisableClass();const n=[];t.each((function(){const t=jQuery(this).attr("data-title"),e=jQuery(this).find(".menu-item-data-db-id").val(),a=jQuery(this).find(".menu-item-data-object-id").val(),i=jQuery(this).find(".menu-item-data-object").val(),s=jQuery(this).find(".menu-item-data-type").val(),r=jQuery(this).find(".menu-item-data-position").val(),o=jQuery(this).find(".menu-item-data-parent-id").val(),b=jQuery(this).attr("data-url"),d=jQuery(this).attr("data-status");n.push({menu_item_db_id:e,item_id:a,item_title:t,object:i,item_type:s,item_position:r,item_parent_id:o,item_url:b,status:d})})),jQuery.ajax({url:twbb_website_nav.ajaxurl,type:"POST",data:{action:"wn_nav_menu_changes",process:"editNavMenuBulkItems",nonce:twbb_website_nav.nonce,args:{menu_id:e,items:n}}}).done((t=>{t.success&&(this.updateOrdering(),this.reRenderNavMenu())})).always((()=>{this.removeDisableClass()}))}editMenuItem(t,e){this.addDisableClass();const n=t.attr("data-title"),a=t.find(".menu-item-data-db-id").val(),i=t.find(".menu-item-data-object-id").val(),s=t.find(".menu-item-data-object").val(),r=t.find(".menu-item-data-type").val(),o=t.find(".menu-item-data-position").val(),b=t.find(".menu-item-data-parent-id").val(),d=t.attr("data-url"),l=t.attr("data-status");jQuery.ajax({url:twbb_website_nav.ajaxurl,type:"POST",data:{action:"wn_nav_menu_changes",process:"editNavMenuItem",nonce:twbb_website_nav.nonce,menu_id:e,menu_item_db_id:a,item_id:i,item_title:n,item_object:s,item_type:r,item_position:o,item_parent_id:b,item_url:d,status:l}}).done((t=>{t.success&&(this.updateOrdering(),this.reRenderNavMenu())})).always((()=>{this.removeDisableClass()}))}addMenuItem(t,e,n,a=!1){this.addDisableClass();const i=e.attr("data-id"),s=e.attr("data-title"),r=e.attr("data-object"),o=e.attr("data-type"),b=e.attr("data-url"),d=e.find(".menu-item-data-position").val()||0,l=e.find(".menu-item-data-parent-id").val()||0,w={action:"wn_nav_menu_changes",process:"addNavMenuItem",nonce:twbb_website_nav.nonce,menu_id:t,item_id:i,item_title:s,item_object:r,item_type:o,item_position:d,item_parent_id:l,item_url:b};(e.closest(".wn-action-tooltip-container").length||a)&&(w.return_last_added_item=!0),jQuery.ajax({url:twbb_website_nav.ajaxurl,type:"POST",data:w}).done((t=>{if(t.success)if(200===t.data.code){if(n){const a="custom"!==o;n(t.data.item_html,e,a)}this.reRenderNavMenu()}else 201===t.data.code&&this.updateSettingsHtml(t.data.item_html,e)})).always((()=>{this.removeDisableClass(),this.addActiveItemClass()}))}updateSettingsHtml(t,e){const n=jQuery(e).find(".menu-item-settings"),a=n.find(".menu-item-data-db-id").val();""!==a&&void 0!==a||""===t||n.replaceWith(t)}removeMenuItem(t,e){this.addDisableClass();const n=t.find(".menu-item-data-db-id").val();jQuery.ajax({url:twbb_website_nav.ajaxurl,type:"POST",data:{action:"wn_nav_menu_changes",process:"removeNavMenuItem",nonce:twbb_website_nav.nonce,menu_item_db_id:n}}).done((n=>{n.success&&(this.updateOrdering(),this.reRenderNavMenu(),e(t))})).always((()=>{this.removeDisableClass()}))}updateOrdering(){const t=jQuery(".twbb-website-nav-sidebar-nav-menus-items .menu-item"),e=[];t.each((function(){const t=jQuery(this).find(".menu-item-data-db-id").val(),n=jQuery(this).find(".menu-item-data-position").val();e.push({db_id:t,position:n})})),jQuery.ajax({url:twbb_website_nav.ajaxurl,type:"POST",data:{action:"wn_nav_menu_changes",process:"updateNavMenuOrdering",nonce:twbb_website_nav.nonce,args:{menu_item_positions:e}}}).done((t=>{t.success&&this.showSavedLabel("twbb-website-nav-sidebar-navigation-container")}))}fillMenuItemSettings(t,e){const n=t.attr("data-id"),a=t.attr("data-object"),i=t.attr("data-type");t.find(".menu-item-data-db-id").val(e),t.find(".menu-item-data-object-id").val(n),t.find(".menu-item-data-object").val(a),t.find(".menu-item-data-type").val(i),t.find(".menu-item-settings").attr("id",`menu-item-settings-${e}`),t.find("input").each((function(){const t=jQuery(this),n=`${t.attr("name").slice(0,-1)}${e}]`;t.attr("name",n)}))}showSavedLabel(t){jQuery(`.${t}`).find(".twbb-saved-label").css("display","inline-block"),setTimeout((()=>{jQuery(`.${t}`).find(".twbb-saved-label").css("display","none")}),2e3)}reRenderNavMenu(t=null,e=null){const n=jQuery("#elementor-preview-iframe")[0];t||(t=jQuery(".twbb-website-nav-sidebar-main").attr("data-page_where_is_menu")),e||(e=jQuery(".twbb-website-nav-sidebar-main").attr("data-nav_widget_id")),jQuery.ajax({url:twbb_options.ajaxurl,type:"POST",data:{action:"wn_nav_menu_changes",process:"changeNavMenuContent",postID:t,elementID:e,nonce:twbb_options.nonce}}).done((t=>{if(t.success){const a=jQuery("#elementor-preview-iframe").contents().find(`div[data-id=${e}]`);n.contentWindow.reRenderNavMenu(a,t.data)}}))}addDisableClass(){jQuery(".twbb-website-nav-sidebar-main").addClass("disable-ajax-in-progress")}removeDisableClass(){jQuery(".twbb-website-nav-sidebar-main").removeClass("disable-ajax-in-progress"),jQuery(".twbb-tooltip-parent-container").css("display","none")}addActiveItemClass(){jQuery(`.twbb-wn-item[data-id="${elementor.config.document.id}"`).addClass("twbb-wn-item-active")}}function twbb_navMenuSortable(){api={menuList:jQuery("#nav_menu_items"),pagesList:jQuery("#pages_items"),menuID:jQuery("#nav_menu_items").attr("data-nav_id"),options:{menuItemDepthPerLevel:40,globalMaxDepth:2,sortableItems:"> *",targetTolerance:0,good_for_action:"twbb-good-for-action"},init:function(){this.jQueryExtensions()},depthToPx:function(t){return t*api.options.menuItemDepthPerLevel},pxToDepth:function(t){return Math.floor(t/api.options.menuItemDepthPerLevel)},jQueryExtensions:function(){jQuery.fn.extend({menuItemDepth:function(){var t=this.eq(0).css("margin-left");return api.pxToDepth(t&&-1!==t.indexOf("px")?t.slice(0,-2):0)},updateDepthClass:function(t,e){return this.each((function(){var n=jQuery(this);e=e||n.menuItemDepth(),jQuery(this).removeClass("menu-item-depth-"+e).addClass("menu-item-depth-"+t)}))},shiftDepthClass:function(t){return this.each((function(){var e=jQuery(this),n=e.menuItemDepth(),a=n+t;if(e.removeClass("menu-item-depth-"+n).addClass("menu-item-depth-"+a),0===a)e.find(".menu-item-data-parent-id").val(0);else{var i=e.prevAll(".menu-item-depth-"+(a-1)).first();e.find(".menu-item-data-parent-id").val(i.find(".menu-item-data-db-id").val())}}))},childMenuItems:function(){var t=jQuery();return this.each((function(){for(var e=jQuery(this),n=e.menuItemDepth(),a=e.next(".menu-item");a.length&&a.menuItemDepth()>n;)t=t.add(a),a=a.next(".menu-item")})),t},updateParentMenuItemDBId:function(){return this.each((function(){var t=jQuery(this),e=t.find(".menu-item-data-parent-id"),n=parseInt(t.menuItemDepth(),10),a=n-1,i=t.prevAll(".menu-item-depth-"+a).first();0===n?e.val(0):e.val(i.find(".menu-item-data-db-id").val())}))}})}},api.init();var t,e,n,a,i,s,r,o,b,d,l=0,w=jQuery("body"),u=function(){if(!w[0].className)return 0;var t=w[0].className.match(/menu-max-depth-(\d+)/);return t&&t[1]?parseInt(t[1],10):0}();function c(t){var o;a=t.placeholder.prev(".menu-item"),i=t.placeholder.next(".menu-item"),a[0]===t.item[0]&&(a=a.prev(".menu-item")),i[0]===t.item[0]&&(i=i.next(".menu-item")),s=a.length?a.offset().top+a.height():0,r=i.length?i.offset().top+i.height()/3:0,e=i.length?i.menuItemDepth():0,n=a.length?(o=a.menuItemDepth()+1)>api.options.globalMaxDepth?api.options.globalMaxDepth:o:0}function m(t,e){t.placeholder.updateDepthClass(e,l),l=e}function p(t){var e,n=u;if(0!==t){if(t>0)(e=d+t)>u&&(n=e);else if(t<0&&d===u)for(;!jQuery(".menu-item-depth-"+n,api.menuList).length&&n>0;)n--;w.removeClass("menu-max-depth-"+u).addClass("menu-max-depth-"+n),u=n}}function h(){var t=1;return api.menuList.children().each((function(){jQuery(this).find(".menu-item-data-position").val(t),t++}))}function g(t,e){jQuery(".twbb-wn-add-menu-item-blue-button").css("display","none"),jQuery(".twbb-website-nav-sidebar-navigation-header .twbb-wn-add-item.wn-add-menu-item.twbb-wn-tooltip-parent").removeClass("twbb-wn-not-visible"),e.attr("data-nav_item_title",e.attr("data-title")),e.attr("data-nav_menu_status","in_menu"),twbb_navMenuActions.fillMenuItemSettings(e,t),twbb_navMenuActions.updateOrdering(),analyticsDataPush("Website structure","Navigation menu edit","Left menu")}api.menuList.length&&api.menuList.sortable({connectWith:".twbb_connectedSortable",handle:".menu-item-handle",placeholder:"sortable-placeholder",items:api.options.sortableItems,cursor:"grab",tolerance:"pointer",start:function(e,n){var a,i,s;n.item.addClass("ui-sort-in-progress"),b=n.item.find(".menu-item-transport"),t=n.item.menuItemDepth(),m(n,t),i=(n.item.next()[0]===n.placeholder[0]?n.item.next():n.item).childMenuItems(),b.append(i),a=b.outerHeight(),a+=a>0?1*n.placeholder.css("margin-top").slice(0,-2):0,a+=n.helper.outerHeight(),o=a,a-=2,n.placeholder.height(a),(s=n.placeholder.next(".menu-item")).css("margin-top",o+"px"),n.placeholder.detach(),jQuery(this).sortable("refresh"),n.item.after(n.placeholder),s.css("margin-top",0),c(n)},stop:function(e,n){if(n.item.removeClass("ui-sort-in-progress"),jQuery(".twbb-website-nav-sidebar-main").hasClass("disable-ajax-in-progress"))return jQuery(this).sortable("cancel"),b.children().insertAfter(n.item),void jQuery(this).sortable("refreshPositions");if(!n.item.hasClass(api.options.good_for_action)&&n.item.parent().hasClass("twbb-website-nav-sidebar-pages-items")){if(!jQuery(".twbb-navmenu-sidebar-other-to-pages-error").length){let t=jQuery("#twbb-navmenu-sidebar-other-to-pages-error-template").html();jQuery(".twbb-website-nav-sidebar-content").prepend(t).addClass("twbb-navmenu-sidebar-with-error")}jQuery(this).sortable("cancel")}if(n.item.hasClass(api.options.good_for_action)&&n.item.find(".menu-item-transport").eq(0).children().length&&n.item.parent().hasClass("twbb-website-nav-sidebar-pages-items")){if(!jQuery(".twbb-navmenu-sidebar-other-to-pages-error").length){let t=jQuery("#twbb-navmenu-sidebar-nested-to-pages-error-template").html();jQuery(".twbb-website-nav-sidebar-content").prepend(t).addClass("twbb-navmenu-sidebar-with-error")}jQuery(this).sortable("cancel")}n.item.hasClass(api.options.good_for_action)&&n.item.parent().hasClass("twbb-website-nav-sidebar-pages-items")&&(l=0);var a,i=l-t;let s=n.item.find(".menu-item-transport").eq(0).find(".menu-item-depth-1").length?1:0,r=n.item.find(".menu-item-transport").eq(0).find(".menu-item-depth-2").length?2:0,o=l;if(s&&(o+=s),r&&(o+=r),o>api.options.globalMaxDepth+1&&r||o>api.options.globalMaxDepth&&!r){if(!jQuery(".twbb-navmenu-sidebar-exceeded-max-depth-error").length){let t=jQuery("#twbb-navmenu-sidebar-exceeded-max-depth-error-template").html();jQuery(".twbb-website-nav-sidebar-content").prepend(t).addClass("twbb-navmenu-sidebar-with-error")}return jQuery(this).sortable("cancel"),b.children().insertAfter(n.item),void jQuery(this).sortable("refreshPositions")}a=b.children().insertAfter(n.item),0!==i&&(n.item.updateDepthClass(l),a.shiftDepthClass(i),p(i)),n.item.updateParentMenuItemDBId(),h(),n.item.hasClass(api.options.good_for_action)&&n.item.parent().hasClass("twbb-website-nav-sidebar-pages-items")?twbb_navMenuActions.removeMenuItem(n.item,twbb_removeNavMenuItemCallback):a=a.add(n.item),twbb_navMenuActions.bulkEditMenu(a,api.menuID),n.item[0].style.top=0,analyticsDataPush("Website structure","Navigation menu edit","Left menu")},change:function(t,e){e.placeholder.parent().hasClass("twbb-website-nav-sidebar-nav-menus-items")||e.placeholder.parent().hasClass("twbb-website-nav-sidebar-pages-items")||(a.length?a.after(e.placeholder):api.menuList.prepend(e.placeholder)),c(e)},sort:function(t,a){var b=a.helper.offset(),d=b.left,w=api.menuList.length?api.menuList.offset().left:"0",u=api.pxToDepth(d-w);if((!a.item.hasClass(api.options.good_for_action)||a.item.find(".menu-item-transport").eq(0).children().length)&&a.placeholder.parent().hasClass("twbb-website-nav-sidebar-pages-items"))return void a.placeholder.addClass("ui-placeholder-state-error");a.placeholder.removeClass("ui-placeholder-state-error"),u>n||b.top<s-api.options.targetTolerance?u=n:u<e&&(u=e),u!==l&&m(a,u);let p=a.item.find(".menu-item-transport").eq(0).find(".menu-item-depth-1").length?1:0,h=a.item.find(".menu-item-transport").eq(0).find(".menu-item-depth-2").length?2:0,g=l;p&&(g+=p),h&&(g+=h),g>api.options.globalMaxDepth+1&&h||g>api.options.globalMaxDepth&&!h?a.placeholder.addClass("ui-placeholder-state-error"):(a.placeholder.removeClass("ui-placeholder-state-error"),r&&b.top+o>r&&(i.after(a.placeholder),c(a),jQuery(this).sortable("refreshPositions")))}}),api.pagesList.length&&api.pagesList.sortable({connectWith:".twbb_connectedSortable",cursor:"grab",placeholder:"sortable-placeholder",cursorAt:{left:150,top:17},tolerance:"pointer",handle:".menu-item-handle",items:"> *",start:function(t,e){e.item.addClass("ui-sort-in-progress"),tempHolder=e.placeholder.next(".menu-item"),tempHolder.css("margin-top",o+"px"),e.placeholder.detach(),jQuery(this).sortable("refresh"),e.item.after(e.placeholder),tempHolder.css("margin-top",0),c(e)},change:function(t,e){e.placeholder.parent().hasClass("twbb-website-nav-sidebar-nav-menus-items")||e.placeholder.parent().hasClass("twbb-website-nav-sidebar-pages-items")||(a.length?a.after(e.placeholder):api.pagesList.prepend(e.placeholder),a.length?a.after(e.placeholder):api.pagesList.prepend(e.placeholder)),c(e)},stop:function(e,n){if(n.item.removeClass("ui-sort-in-progress"),jQuery(".twbb-website-nav-sidebar-main").hasClass("disable-ajax-in-progress"))return jQuery(this).sortable("cancel"),void 0!==b&&b.children().insertAfter(n.item),void jQuery(this).sortable("refreshPositions");if(n.item.hasClass("twbb-good-for-action")||!n.item.parent().hasClass("twbb-website-nav-sidebar-nav-menus-items")){if(n.item.parent().hasClass("twbb-website-nav-sidebar-nav-menus-items")){var a=l-t;let e=n.item.find(".menu-item-transport").eq(0).find(".menu-item-depth-1").length?1:0,i=n.item.find(".menu-item-transport").eq(0).find(".menu-item-depth-2").length?2:0,s=l;if(e&&(s+=e),i&&(s+=i),s>api.options.globalMaxDepth+1&&i||s>api.options.globalMaxDepth&&!i){if(!jQuery(".twbb-navmenu-sidebar-exceeded-max-depth-error").length){let t=jQuery("#twbb-navmenu-sidebar-exceeded-max-depth-error-template").html();jQuery(".twbb-website-nav-sidebar-content").prepend(t).addClass("twbb-navmenu-sidebar-with-error")}return jQuery(this).sortable("cancel"),void jQuery(this).sortable("refreshPositions")}0!==a&&(n.item.updateDepthClass(l),p(a)),n.item.updateParentMenuItemDBId(),h(),n.item[0].style.top=0,twbb_navMenuActions.addMenuItem(api.menuID,n.item,g)}n.item.parent().hasClass("twbb-website-nav-sidebar-nav-menus-items")||jQuery(this).sortable("cancel")}else{if(!jQuery(".twbb-navmenu-sidebar-draft-to-nav-error").length){let t=jQuery("#twbb-navmenu-sidebar-draft-to-nav-error-template").html();jQuery(".twbb-website-nav-sidebar-content").prepend(t).addClass("twbb-navmenu-sidebar-with-error")}jQuery(this).sortable("cancel")}},sort:function(t,a){if(a.item.hasClass("twbb-good-for-action")||!a.placeholder.parent().hasClass("twbb-website-nav-sidebar-nav-menus-items")){if(a.placeholder.removeClass("ui-placeholder-state-error"),a.placeholder.parent().hasClass("twbb-website-nav-sidebar-nav-menus-items")){var b=a.helper.offset(),d=b.left,w=api.menuList.length?api.menuList.offset().left:"0",u=api.pxToDepth(d-w);if((!a.item.hasClass(api.options.good_for_action)||a.item.find(".menu-item-transport").eq(0).children().length)&&a.placeholder.parent().hasClass("twbb-website-nav-sidebar-pages-items"))return void a.placeholder.addClass("ui-placeholder-state-error");a.placeholder.removeClass("ui-placeholder-state-error"),u>n||b.top<s-api.options.targetTolerance?u=n:u<e&&(u=e),u!==l&&m(a,u);let t=a.item.find(".menu-item-transport").eq(0).find(".menu-item-depth-1").length?1:0,p=a.item.find(".menu-item-transport").eq(0).find(".menu-item-depth-2").length?2:0,h=l;if(t&&(h+=t),p&&(h+=p),h>api.options.globalMaxDepth+1&&p||h>api.options.globalMaxDepth&&!p)return void a.placeholder.addClass("ui-placeholder-state-error");a.placeholder.removeClass("ui-placeholder-state-error"),r&&b.top+o>r&&(i.after(a.placeholder),c(a),jQuery(this).sortable("refreshPositions"))}}else a.placeholder.addClass("ui-placeholder-state-error")}}).disableSelection()}jQuery(document).ready((()=>{window.twbb_navMenuActions=new TWBB_NavMenuActions}));class TWBB_WebsiteNavigation{constructor(){this.init()}init(){this.events()}events(){this.blankInputBlurEvent(),this.blankInputKeydownEvent(),this.openWebsiteNavigation(),this.addBlankPageEvent(),this.removeWNError(),this.openTooltip(),this.closeTooltipOnClick(),this.openSubTooltip(),this.backToMainTooltip(),this.addMenuItemFromOptions(),this.addCustomLinkMenuItem(),this.searchMenuItem(),this.clearSearch(),this.tooltipContent(),this.removeMenuItem(),this.openSettingsInnerPage(),this.openOtherTypesInnerPage(),this.hideOtherInnerPages(),this.openManageTrashMenu(),this.openTrashPage(),this.closeTrashPage(),this.emptyTrashEvent(),this.restoreFromTrashEvent(),this.disableWebNavButton()}blankInputBlurEvent(){jQuery(document).on("blur",".twbb-wn-blank-page-input",(()=>{let t=jQuery(document).find(".twbb-wn-blank-page-input");t.length&&!t.hasClass("creation-in-progress")&&this.addBlankPage()}))}blankInputKeydownEvent(){let t=this;jQuery(document).on("keydown","input.twbb-website-nav-sidebar-item__title-input",(function(e){"Enter"!==e.key&&13!==e.keyCode||jQuery(this).hasClass("creation-in-progress")||t.addBlankPage()}))}disableWebNavButton(){jQuery(document).on("click","#elementor-mode-switcher",(function(){jQuery("body").hasClass("elementor-editor-preview")?jQuery(".twbb_website_structure-topbar-button").removeClass("disabled"):jQuery(".twbb_website_structure-topbar-button").hasClass("disabled")||jQuery(".twbb_website_structure-topbar-button").addClass("disabled")}))}openWebsiteNavigation(){let t=this;jQuery(document).on("click",".twbb_website_structure-topbar-button",(function(){analyticsDataPush("Website structure","Manage Navigation button click","Top bar"),jQuery(this).closest(".twbb-wn-structure-sub-menu-content").hide(),jQuery(this).hasClass("twbb-wn-active")&&jQuery(document).find(".twbb-website-nav-sidebar-main").hasClass("twbb-animated-sidebar-show")?twbb_animate_sidebar("close",jQuery(".twbb-website-nav-sidebar-main"),380,"twbb-website-navigation-sidebar-opened",twbb_closeWebsiteNavigation):t.websiteNavigationOpenFunctions(jQuery(this))}))}websiteNavigationOpenFunctions(t){twbb_triggerWebsiteNavigationButton(t),this.changePageStatusOnSave(),jQuery(".twbb-website-nav-sidebar-content").scroll((()=>{twbb_closeTooltip()}))}addBlankPageEvent(){let t=this;jQuery(document).on("click",".twbb-wn-add-blank-page",(function(){jQuery(".twbb-wn-blank-page-input").length||t.createBlankPageInput(jQuery(this))}))}createBlankPageInput(t){jQuery(".twbb-website-nav-sidebar-pages-items").prepend('<div class="twbb-website-nav-sidebar-item twbb-wn-item menu-item twbb-wn-blank-page-input">\n                          <div class="menu-item-handle" style="width: 100%;">\n                            <input class="twbb-website-nav-sidebar-item__title-input" value="New Page">\n                          </div>\n                        </div>'),jQuery(t).closest(".wn-action-tooltip").css("display","none"),jQuery("input.twbb-website-nav-sidebar-item__title-input").select()}addBlankPage(){let t=jQuery(".twbb-wn-blank-page-input");if(t.length&&!t.hasClass("creation-in-progress")){t.addClass("creation-in-progress");var e=t.find("input.twbb-website-nav-sidebar-item__title-input").val();""!==e&&void 0!==e||(e="New Page"),void 0!==typeof twbb_create_blank_page&&twbb_create_blank_page(this,e,!1)}}removeWNError(){jQuery(document).on("transitionend",".twbb-navmenu-sidebar-error",(function(){jQuery(this).remove(),jQuery(".twbb-navmenu-sidebar-error").length||jQuery(".twbb-website-nav-sidebar-content").removeClass("twbb-navmenu-sidebar-with-error")}))}openTooltip(){jQuery(document).on("click",".twbb-wn-tooltip-parent",(function(t){if(t.stopPropagation(),!jQuery(t.target).hasClass("twbb-wn-tooltip-parent"))return;twbb_closeTooltip();let e=jQuery(this).offset().top+jQuery(this).outerHeight()+10-48,n=jQuery(this).offset().left;if(jQuery(this).hasClass("twbb-empty-nav-tooltip-container")&&(e=jQuery(this).offset().top,n=jQuery(this).offset().left+jQuery(this).outerWidth()+10-48),jQuery(this).hasClass("wn-add-menu-item")){const t=jQuery("#twbb-wn-add-menu-item-action-tooltip").html();jQuery(this).find(".wn-add-menu-item-action-tooltip").length||jQuery(this).append(t),jQuery(".twbb-wn-secondary-container").hide(),jQuery(".wn-action-tooltip-container.twbb-wn-main-container").show()}const a=jQuery(this).find(".wn-action-tooltip");jQuery(this).addClass("twbb-opacity-1"),a.css({top:`${e}px`,left:`${n}px`,display:"block"}),jQuery(this).addClass("twbb_active")}))}openManageTrashMenu(){jQuery(document).on("click",".twbb-wn-manage-trash .wn-menu-icon",(function(t){t.stopPropagation();let e=jQuery(this).closest(".twbb-wn-manage-trash");e.hasClass("wn-menu-trash-active")?e.removeClass("wn-menu-trash-active"):e.addClass("wn-menu-trash-active")}))}closeTooltipOnClick(){jQuery(document).on("click",(t=>{jQuery(t.target).closest(".twbb-wn-tooltip-parent").length||twbb_closeTooltip()}))}openSubTooltip(){jQuery(document).on("click",".twbb-wn-main-container .twbb-wn-action-tooltip-item",(function(t){t.stopPropagation(),twbb_renderSubActionTooltip(jQuery(this))}))}openTrashPage(){jQuery(document).on("click",".wn-menu-trash-active .twbb-wn-manage-trash-button",(function(t){t.stopPropagation(),twbb_renderPageTrash(jQuery(this))}))}closeTrashPage(){jQuery(document).on("click",".twbb-wn-trash-back-to-main-sidebar, .twbb-wn-trash-inner-pages-header-title",(function(t){t.stopPropagation(),jQuery(this).closest(".twbb-wn-inner-trash-page").hide()}))}emptyTrashEvent(){let t=this;jQuery(document).on("click",".twbb-wn-delete_from_trash",(function(e){e.stopPropagation();const n=jQuery(this).closest(".twbb-wn-trash-item").attr("data-id");t.emptyTrash(n,jQuery(this))})),jQuery(document).on("click",".twbb-wn-inner-pages-empty-trush-button",(function(e){e.stopPropagation(),t.emptyTrash(0,jQuery(this))}))}restoreFromTrashEvent(){let t=this;jQuery(document).on("click",".twbb-wn-restore_from_trash",(function(e){e.stopPropagation(),t.restoreItemFromTrash(jQuery(this))}))}restoreItemFromTrash(t){const e=t.closest(".twbb-wn-trash-item").attr("data-id"),n=t.closest(".twbb-wn-inner-trash-page").attr("data-type");if(t.closest(".twbb-wn-trash-item").hasClass("twbb-wn-trash-item-loading"))return;t.closest(".twbb-wn-trash-item").addClass("twbb-wn-trash-item-loading"),t.addClass("twbb-wn-button-loading");let a={action:"wn_trash_management",task:"wn_restore_from_trash",nonce:twbb_website_nav.nonce,post_id:e};TwbbPostTrashManager.restoreFromTrash(a).then((a=>{if(a.success){t.closest(".twbb-wn-inner-trash-page").find(".twbb-wn-trash-item[data-id='"+e+"']").remove(),t.closest(".twbb-wn-inner-trash-page").find(".twbb-wn-trash-item").length||t.closest(".twbb-wn-inner-trash-page").find(".twbb-wn-inner-pages-empty-trush-button").addClass("twbb-empty-trush-button-inactive");const i=jQuery(document).find(".twbb-website-nav-sidebar-content .twbb-wn-item[data-id='"+e+"']");if(i.length)i.attr("data-status","draft"),i.find(".twbb-wn-status").text("Draft");else{let t=a.data.content;jQuery(document).find(".twbb-website-nav-sidebar-pages-container[data-post-type='"+n+"'] .twbb-website-nav-sidebar-pages-items").append(t)}}t.closest(".twbb-wn-trash-item").removeClass(".twbb-wn-button-loading"),t.removeClass(".twbb-wn-button-loading"),window.twbb_navMenuActions.reRenderNavMenu()})).catch((e=>{t.closest(".twbb-wn-trash-item").removeClass(".twbb-wn-button-loading"),t.removeClass(".twbb-wn-button-loading")}))}emptyTrash(t=0,e){const n=e.closest(".twbb-wn-inner-trash-page").attr("data-type"),a=jQuery(document).find("twbb-wn-inner-trash-page[data-type='"+n+"'] .twbb-wn-inner-pages-empty-trush-button");if(!a.hasClass("twbb-wn-button-loading")&&!a.hasClass("twbb-empty-trush-button-inactive")){if(0===t)e.addClass("twbb-wn-button-loading");else{if(e.closest(".twbb-wn-trash-item").hasClass("twbb-wn-trash-item-loading"))return;e.closest(".twbb-wn-trash-item").addClass("twbb-wn-trash-item-loading"),e.addClass("twbb-wn-button-loading")}jQuery.ajax({url:twbb_website_nav.ajaxurl,type:"POST",data:{action:"wn_trash_management",task:"wm_empty_trash",post_id:t,post_type:n,nonce:twbb_website_nav.nonce}}).done((n=>{n.success&&(0===t?e.closest(".twbb-wn-inner-trash-page").find(".twbb-wn-inner-trash-pages-content").empty():e.closest(".twbb-wn-inner-trash-page").find(".twbb-wn-trash-item[data-id='"+t+"']").remove(),e.closest(".twbb-wn-inner-trash-page").find(".twbb-wn-inner-trash-pages-content .twbb-wn-trash-item").length||e.closest(".twbb-wn-inner-trash-page").find(".twbb-wn-inner-pages-empty-trush-button").addClass("twbb-empty-trush-button-inactive"),window.twbb_navMenuActions.reRenderNavMenu())})).always((()=>{e.closest(".twbb-wn-inner-trash-page").find(".twbb-wn-inner-pages-empty-trush-button").removeClass("twbb-wn-button-loading"),e.closest(".twbb-wn-trash-item").removeClass(".twbb-wn-button-loading"),e.removeClass(".twbb-wn-button-loading")}))}}backToMainTooltip(){jQuery(document).on("click",".twbb-wn-back-add-to-menu-button",(function(t){t.stopPropagation(),jQuery(this).closest(".twbb-wn-secondary-container").hide(),jQuery(".wn-action-tooltip-container.twbb-wn-main-container").show()})),jQuery(document).on("click",".twbb-wn-action-tooltip-title",(function(t){t.stopPropagation(),jQuery(this).closest(".twbb-wn-secondary-container").hide(),jQuery(".wn-action-tooltip-container.twbb-wn-main-container").show()}))}addMenuItemFromOptions(){jQuery(document).on("click",".twbb-wn-secondary-container .twbb-wn-action-tooltip-item",(function(t){if(t.stopPropagation(),jQuery(".twbb-website-nav-sidebar-main").hasClass("disable-ajax-in-progress"))return;const e=jQuery("#nav_menu_items").data("nav_id");twbb_navMenuActions.addMenuItem(e,jQuery(this),twbb_addNavSuccessCallback)}))}searchMenuItem(){jQuery(document).on("input",".twbb-wn-secondary-container .twbb-wn-search",(function(){twbb_searchInit(jQuery(this))})),jQuery(document).on("input",".twbb-wn-inner-pages-content .twbb-wn-search",(function(){twbb_searchInit(jQuery(this),".twbb-wn-item")}))}clearSearch(){jQuery(document).on("click",".twbb-wn-clear-search",(function(){jQuery(this).closest(".twbb-wn-search-wrapper").find(".twbb-wn-search").val("");const t=jQuery(this).closest(".twbb-wn-search-container");t.find(".twbb-wn-action-tooltip-item").show(),t.find(".twbb-wn-item").show(),t.find(".twbb-wn-search-noresult").hide()}))}tooltipContent(){jQuery(document).on("mouseenter",".twbb-tooltip-parent-container-item",(function(t){if(!jQuery(t.target).hasClass("twbb-tooltip-parent-container-item"))return;const e=jQuery(this).attr("data-tooltip-text"),n=jQuery(this).offset().top+jQuery(this).outerHeight()+10-48,a=jQuery(this).offset().left;jQuery(".twbb-tooltip-parent-container .twbb-tooltip").text(e),jQuery(".twbb-tooltip-parent-container").css({top:`${n}px`,left:`${a}px`,display:"block"})})).on("mouseleave",".twbb-tooltip-parent-container-item",(()=>{jQuery(".twbb-tooltip-parent-container").hide()}))}removeMenuItem(){const t=this;jQuery(document).on("click",".twbb-wn-action-remove",(function(){const e=jQuery(this).closest(".twbb-website-nav-sidebar-item");t.removeMenuItemFromList(e)}))}removeMenuItemFromList(t,e=!1){if(jQuery(".twbb-website-nav-sidebar-main").hasClass("disable-ajax-in-progress"))return;const n=jQuery("#nav_menu_items"),a=t.childMenuItems();twbb_navMenuActions.removeMenuItem(t,twbb_removeNavMenuItemCallback,e),a.length&&(a.shiftDepthClass(-1),twbb_navMenuActions.bulkEditMenu(a,n.attr("data-nav_id")))}addCustomLinkMenuItem(){jQuery(document).on("click",".twbb-wn-add-custom-menu-item-button",(function(){if(jQuery(this).hasClass("disabled"))return;const t=jQuery(this).closest(".twbb-wn-secondary-container"),e=t.find("#wn-custom-link-nav-url").val(),n=jQuery("#nav_menu_items").data("nav_id");""!==e&&twbb_navMenuActions.addMenuItem(n,jQuery(this),twbb_addNavSuccessCallback),t.find("#wn-custom-link-nav-label").val(""),t.find("#wn-custom-link-nav-url").val("")}))}openSettingsInnerPage(){window.twbb_websiteNavigationInnerSettings=new TWBB_WebsiteNavigationInnerSettings,jQuery(document).on("click",".twbb-wn-action-settings",(function(){let t=!1;jQuery(this).parents(".twbb-website-nav-sidebar-nav-menus-items").length>0&&(t=!0),twbb_renderInnerSettings(jQuery(this),t)}))}changePageStatusOnSave(){const t=elementor.config.document.id,e=elementor.config.document.status.value,n=jQuery(`.twbb-wn-item[data-id=${t}]`),a="publish"===e;this.itemStatusChange(a,n),elementor.channels.editor.on("saved",(()=>{const t=elementor.config?.document?.status?.value;"publish"===t&&(this.itemStatusChange(!0,n),window.twbb_navMenuActions.reRenderNavMenu())}))}openOtherTypesInnerPage(){jQuery(document).on("click",".twbb-website-nav-sidebar-other-item",(function(){twbb_renderOtherTypesInnerPage(jQuery(this))}))}hideOtherInnerPages(){jQuery(document).on("click",".twbb-wn-inner-page-items .twbb-wn-inner-pages-back",(function(){jQuery(this).closest(".twbb-wn-inner-page-items").addClass("hide")}))}itemStatusChange(t,e){let n=e.attr("data-status");if(!("publish"===n&&t||"draft"===n&&!t))if(t){e.attr("data-status","publish").addClass("twbb-good-for-action");let t=e.attr("data-id");jQuery(`.twbb-wn-item[data-id=${t}] .twbb-wn-status`).text("");let n=twbb_website_nav.auto_added_menus;const a=parseInt(jQuery("#nav_menu_items").attr("data-nav_id"));n&&(Array.isArray(n)?n.includes(a):Object.values(n).includes(a))&&(jQuery(`.twbb-website-nav-sidebar-nav-menus-items .twbb-wn-item[data-id=${t}]`).length||(twbb_navMenuActions.addMenuItem(a,e,twbb_addNavSuccessCallback,!0),jQuery(".twbb-website-nav-sidebar-nav-menus-items").append(e),e.attr("data-nav_item_title",e.attr("data-title")),e.attr("data-nav_menu_status","in_menu"),jQuery("#nav_menu_items, #pages_items").sortable("refresh")))}else e.attr("data-status","draft").removeClass("twbb-good-for-action"),e.find(".twbb-wn-status").text("Draft")}itemTitleChange(t,e){e.attr("data-title",t);const n=e.attr("data-id");jQuery(`.twbb-website-nav-sidebar-items:not(.twbb-website-nav-sidebar-nav-menus-items) .twbb-wn-item[data-id=${n}] .twbb-wn-title`).text(t)}itemNavTitleChange(t,e){e.attr("data-nav_item_title",t);const n=e.attr("data-id");jQuery(`.twbb-website-nav-sidebar-nav-menus-items .twbb-wn-item[data-id=${n}] .twbb-wn-title`).text(t)}itemUrlSlugChange(t,e,n){n.attr("data-slug",t).attr("data-url",e)}itemCustomUrlChange(t,e){e.attr("data-url",t)}itemHomePageChange(t,e){jQuery(".twbb-website-nav-sidebar-item__title").removeClass("twbb-wn-home-page"),!0===t&&e.find(".twbb-website-nav-sidebar-item__title").addClass("twbb-wn-home-page")}}function twbb_renderInnerSettings(t,e=!1){let n=jQuery("#twbb-wn-inner-page-settings").html();const a=t.parents(".twbb-wn-item"),i=window.twbb_websiteNavigationInnerSettings;jQuery(".twbb-website-nav-sidebar-main").append(n);const s=a.attr("data-object"),r={page:"Page",post:"Post",custom:"Custom link",category:"Post category",tag:"Post tag",product_cat:"Product category",product_tag:"Product collection",product_brand:"Product brand"};let o=void 0!==r[s]?r[s]:twbb_capitalizeWords(s);jQuery(".twbb-wn-inner-page-settings .twbb-wn-inner-pages-header-title").text(o+" settings");let b=i.renderInnerSettingsPage(a);jQuery(".twbb-wn-inner-page-settings .twbb-wn-inner-pages-content").append(b),jQuery(".twbb-wn-inner-pages-settings-save").attr("data-element-id",a.attr("data-id")).attr("data-element-db-id",a.find(".menu-item-data-db-id").val()).attr("data-triggered-from-nav-menu",e).attr("data-object",a.attr("data-object"))}function twbb_renderOtherTypesInnerPage(t){let e=jQuery("#twbb-wn-inner-page-items").html(),n=jQuery(`.twbb-wn-inner-page-items[data-post-type=${t.data("post-type")}]`);if(n.length)n.removeClass("twbb-animated-sidebar-hide").addClass("twbb-animated-sidebar-show");else{e=e.replace(/<div class="twbb-website-nav-sidebar-container twbb-wn-inner-page-items">/g,`<div class="twbb-website-nav-sidebar-container twbb-wn-inner-page-items" data-post-type="${t.data("post-type")}">`),jQuery(".twbb-website-nav-sidebar-main").append(e),n=jQuery(`.twbb-wn-inner-page-items[data-post-type=${t.data("post-type")}]`);let a=t.attr("data-type-title");n.find(".twbb-wn-inner-pages-header-title").text(a),twbb_otherTypesInnerPage(t,1,!0)}}function twbb_triggerWebsiteNavigationButton(t){if(t.hasClass("disabled"))return;if(t.hasClass("selected")&&jQuery(document).find(".twbb-website-nav-sidebar-main").hasClass("twbb-animated-sidebar-show"))return void twbb_animate_sidebar("close",jQuery(".twbb-website-nav-sidebar-main"),380,"twbb-website-navigation-sidebar-opened",twbb_closeWebsiteNavigation);jQuery(".MuiBackdrop-invisible").trigger("click"),t.addClass("selected");if(jQuery(".MuiToolbar-root .MuiBox-root .MuiGrid-root:first-child .MuiStack-root:eq(1) .MuiBox-root:first-child button").removeClass("Mui-selected"),!jQuery(".twbb-website-nav-sidebar-main").length){let t=jQuery("#twbb-navmenu-sidebar-template").html();jQuery("#elementor-editor-wrapper-v2").append(t),twbb_navMenuSortable()}twbb_animate_sidebar("open",jQuery(".twbb-website-nav-sidebar-main"),380,"twbb-website-navigation-sidebar-opened",twbb_closeWebsiteNavigation);let e=jQuery("#twbb-wn-add-menu-item-action-tooltip").html();jQuery(".wn-add-menu-item-action-tooltip").length||jQuery(".twbb-website-nav-sidebar-navigation-header .twbb-wn-add-item.wn-add-menu-item").append(e)}function twbb_closeWebsiteNavigation(){jQuery('.MuiButtonBase-root[aria-label="Add Element"]').addClass("Mui-selected"),jQuery(".twbb_website_structure-topbar-button ").removeClass("selected"),jQuery(".twbb-website-nav-sidebar-main").removeClass("twbb-animated-sidebar-show").addClass("twbb-animated-sidebar-hide"),jQuery("body").removeClass("twbb-website-navigation-sidebar-opened"),jQuery(document).find(".twbb_website_structure-topbar-button.twbb-wn-active").removeClass("twbb-wn-active")}function twbb_webNavSidebarErrorClose(t){jQuery(`.${t}`).addClass("remove-animation")}jQuery(document).ready((function(){window.twbb_websiteNavigation=new TWBB_WebsiteNavigation,window.TwbbPostTrashManager=window.TwbbPostTrashManager||{},window.TwbbWNItem=window.TwbbWNItem||{},window.TwbbPostTrashManager.restoreFromTrash=function(t){return fetch(twbb_website_nav.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:new URLSearchParams(t)}).then((t=>t.json())).then((t=>{if(!t.success)throw new Error(t.data||"Restore failed");return t}))},window.TwbbWNItem.getWNSidebarItem=function(t){return fetch(twbb_website_nav.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:new URLSearchParams(t)}).then((t=>t.json())).then((t=>{if(!t.success)throw new Error(t.data||"Restore failed");{const e=t.data.content;""!==e&&jQuery(document).find(".twbb-website-nav-sidebar-pages-container[data-post-type='"+t.data.post_type+"'] .twbb-website-nav-sidebar-items").prepend(e),window.twbb_navMenuActions.showSavedLabel("twbb-website-nav-sidebar-pages-container")}}))}}));let twbb_page=[],twbb_finished=[],twbb_loading=!1,twbb_lastScrollTop=0;function twbb_renderSubActionTooltip(t,e=1,n=!1,a=!0){if(twbb_loading)return;let i=t.data("post-type"),s=t.data("type"),r=t.closest(".wn-add-menu-item-action-tooltip").find(`.wn-action-tooltip-container[data-post-type="${i}"]`),o=t.text();if(void 0===twbb_finished[i]&&(twbb_finished[i]=!1),twbb_attachScroll(t.closest(".wn-add-menu-item-action-tooltip"),t,twbb_renderSubActionTooltip),"custom"!==i&&(!r.length||n&&!twbb_finished[i])){twbb_loading=!0,r.length>0&&r.find(".twbb-wn-action-tooltip-items").append('<div class="twbb-wn-item-loading"></div>');let n=t.closest(".wn-add-menu-item-action-tooltip");a=!1,1===e&&(a=!0),twbb_getDataByTypeAjax(i,s,o,e,n,n.find(".twbb-wn-action-tooltip-items:visible"),a,10,"tooltip","true")}jQuery(".twbb-wn-main-container").css("display","none"),r.length>0?r.css("display","block"):r.find(".twbb-wn-action-tooltip-items").prepend('<div class="twbb-wn-item-loading"></div><div class="twbb-wn-item-loading"></div><div class="twbb-wn-item-loading"></div>')}function twbb_getDataByTypeAjax(t,e,n,a,i,s,r=!1,o=10,b="tooltip",d="true",l="true"){const w=jQuery(document).find(".twbb-website-nav-sidebar-container").attr("data-current-page_id");jQuery.ajax({url:twbb_website_nav.ajaxurl,type:"POST",data:{action:"wn_get_available_menu_items",post_type:t,type:e,html_title:n,nav_menu_id:jQuery("#nav_menu_items").data("nav_id"),nonce:twbb_website_nav.nonce,page:a,add_parent_container:r,pages_count_per_requested:o,rendering_type:b,exclude_menu_items:d,exclude_draft:l,current_page_id:w}}).done((e=>{if(e.success){let a=e.data.content;if(!0===r){let e=`<div class="wn-action-tooltip-container twbb-wn-secondary-container twbb-wn-search-container" \n                         data-post-type="${t}"><div class="twbb-wn-action-tooltip-title-container">\n            <span class="twbb-wn-back-add-to-menu-button"></span>\n            <div class="twbb-wn-action-tooltip-title">${n}</div></div>${a}</div>`;i.append(e)}else""===a?twbb_finished[t]=!0:(s.append(a),e.data.items.length<o&&(twbb_finished[t]=!0))}})).always((()=>{jQuery(".twbb-wn-item-loading").remove(),twbb_loading=!1}))}function twbb_otherTypesInnerPage(t,e=1,n=!1){if(twbb_loading)return;let a=t.data("post-type"),i=t.data("type"),s=t.data("post-type-title"),r=jQuery(`.twbb-wn-inner-page-items[data-post-type=${t.data("post-type")}] .twbb-wn-inner-pages-content`);twbb_attachScroll(r,t,twbb_otherTypesInnerPage),(!r.length||n&&!twbb_finished[a]||1===e)&&(twbb_loading=!0,r.length>0&&r.append('<div class="twbb-wn-item-loading"></div>'),twbb_getDataByTypeAjax(a,i,s,e,r,r,!1,20,"navigation","false","false")),r.find(".twbb-wn-item").length||r.append('<div class="twbb-wn-item-loading"></div><div class="twbb-wn-item-loading"></div><div class="twbb-wn-item-loading"></div>')}function twbb_attachScroll(t,e,n){t.off("scroll.twbb").on("scroll.twbb",(function(){let a=e.data("post-type");if("custom"===a||twbb_loading||twbb_finished[a])return;const i=t.scrollTop(),s=t.prop("scrollHeight"),r=t.outerHeight();i>twbb_lastScrollTop&&i+r>=s-50&&(void 0!==twbb_page[a]?twbb_page[a]++:twbb_page[a]=2,n(e,twbb_page[a],!0)),twbb_lastScrollTop=i}))}function twbb_addNavSuccessCallback(t,e,n=!0){let a=jQuery("#nav_menu_items");e.find(".twbb-wn-add-item-to-page").css("background-image","none"),e.find(".twbb-wn-add-item-to-page").append('<i class="fas fa-check"></i>'),e.attr("data-nav_item_title",e.attr("data-title")),e.attr("data-nav_menu_status","in_menu"),jQuery(`#nav_menu_items .twbb-wn-item[data-id="${e.attr("data-id")}"]`).length?""===jQuery(`#nav_menu_items .twbb-wn-item[data-id="${e.attr("data-id")}"]`).find(".menu-item-data-db-id").val()&&jQuery(`#nav_menu_items .twbb-wn-item[data-id="${e.attr("data-id")}"]`).replaceWith(t):a.append(t),a.sortable("refresh"),"page"===e.data("object")?(jQuery(`#pages_items .twbb-wn-item[data-id="${e.data("id")}"]`).remove(),jQuery("#pages_items").sortable("refresh")):1===e.closest(".twbb-wn-action-tooltip-items").children(".twbb-wn-action-tooltip-item").length&&jQuery(`.twbb-wn-main-container .twbb-wn-action-tooltip-item[data-post-type="${e.data("post_type")}"]`).addClass("twbb-wn-item-not-available"),n&&setTimeout((function(){jQuery(".twbb-wn-action-tooltip-items").find(`.twbb-wn-action-tooltip-item[data-id=${e.attr("data-id")}]`).remove()}),500),jQuery(".twbb-wn-add-menu-item-blue-button").css("display","none"),jQuery(".twbb-website-nav-sidebar-navigation-header .twbb-wn-add-item.wn-add-menu-item.twbb-wn-tooltip-parent").removeClass("twbb-wn-not-visible"),twbb_updateMenuItemPositions(a),twbb_navMenuActions.updateOrdering(),analyticsDataPush("Website structure","Navigation menu edit","Left menu")}function twbb_removeNavMenuItemCallback(t){let e=jQuery("#nav_menu_items"),n=jQuery("#pages_items"),a=t.attr("data-object"),i=jQuery(`.twbb-wn-type-${a}`);if(t.removeAttr("data-nav_item_title"),t.find(".twbb-wn-title").text(t.attr("data-title")),t.attr("data-nav_menu_status","not_in_menu"),"page"===a)t.updateDepthClass(0),n.prepend(t),n.sortable("refresh");else{i=jQuery(`.twbb-wn-action-tooltip-item[data-post-type="${t.attr("data-object")}"]`);let e=jQuery(`.wn-action-tooltip-container.twbb-wn-secondary-container[data-post-type="${a}"]`),n=`<div class="twbb-wn-action-tooltip-item twbb-wn-flex-space-between"\n            data-type="${t.attr("data-type")}" data-post_type="${a}"\n            data-id="${t.attr("data-id")}" data-title="${t.attr("data-title")}"\n            data-object="${a}" data-url="${t.attr("data-url")}">\n                <span>${t.attr("data-title")}</span><span class="twbb-wn-add-item-to-page"></span></div>`;i.length&&e.length&&(i.removeClass("twbb-wn-item-not-available"),e.each((function(){jQuery(this).find(".twbb-wn-action-tooltip-items").find(`.twbb-wn-action-tooltip-item[data-id=${t.attr("data-id")}]`).length||jQuery(this).find(".twbb-wn-action-tooltip-items").append(n)}))),jQuery(`.twbb-website-nav-sidebar-nav-menus-items .twbb-wn-item[data-id="${t.attr("data-id")}"]`).remove()}if(e.sortable("refresh"),twbb_updateMenuItemPositions(e),!jQuery(".twbb-website-nav-sidebar-nav-menus-items > .twbb-wn-item").length){if(jQuery(".twbb-wn-add-menu-item-blue-button").length)jQuery(".twbb-wn-add-menu-item-blue-button").css("display","block");else{let t=jQuery("#twbb-wn-add-menu-item-button").html();jQuery(".twbb-website-nav-sidebar-nav-menus-items").append(t)}jQuery(".twbb-website-nav-sidebar-navigation-header .twbb-wn-add-item.wn-add-menu-item.twbb-wn-tooltip-parent").addClass("twbb-wn-not-visible")}analyticsDataPush("Website structure","Navigation menu edit","Left menu")}function twbb_updateMenuItemPositions(t){let e=0;t.children().each((function(){jQuery(this).find(".menu-item-data-position").val(e),e++}))}function twbb_closeTooltip(){let t=jQuery(".twbb-website-nav-sidebar-item__actions");t.length&&t.removeClass("twbb-wn-visible-tooltip"),jQuery(".wn-action-tooltip").css("display","none"),jQuery(".twbb-wn-add-item").removeClass("twbb_active"),jQuery(".twbb-wn-tooltip-parent").removeClass("twbb-opacity-1"),jQuery(".twbb-wn-manage-trash").removeClass("wn-menu-trash-active")}function twbb_customLinkInputFunction(t){let e=jQuery(t).closest(".twbb-wn-secondary-container"),n=e.find("#wn-custom-link-nav-label").val()?e.find("#wn-custom-link-nav-label").val():"Menu Item",a=e.find("#wn-custom-link-nav-url"),i=a.val()?a.val():"",s=e.find(".twbb-wn-add-custom-menu-item-button");""!==i?s.removeClass("disabled"):s.addClass("disabled"),s.attr("data-title",n).attr("data-url",i)}function twbb_searchInit(t,e=".twbb-wn-action-tooltip-item"){let n=t.val().toLowerCase();""!==n?t.closest(".twbb-wn-search-wrapper").find(".twbb-wn-clear-search").show():t.closest(".twbb-wn-search-wrapper").find(".twbb-wn-clear-search").hide();let a=0;t.closest(".twbb-wn-search-container").find(e).each((function(){jQuery(this).find("span").first().text().toLowerCase().includes(n)?(jQuery(this).show(),a=1):jQuery(this).hide()})),a?t.closest(".twbb-wn-search-container").find(".twbb-wn-search-noresult").hide():t.closest(".twbb-wn-search-container").find(".twbb-wn-search-noresult").show()}function twbb_capitalizeWords(t){return void 0!==typeof t?t.split(" ").map((t=>t.charAt(0).toUpperCase()+t.slice(1))).join(" "):""}function twbb_reRenderWebsiteNavigationSidebar(t=!0){jQuery(".twbb-website-nav-sidebar-container").remove(),jQuery.ajax({url:twbb_website_nav.ajaxurl,type:"POST",data:{action:"wn_get_navmenu_sidebar_template",nonce:twbb_website_nav.nonce}}).done((e=>{if(e.success){let n=e.data;jQuery("#elementor-editor-wrapper-v2").append(n);let a="close";t&&(a="open"),twbb_animate_sidebar(a,jQuery(".twbb-website-nav-sidebar-main"),380,"twbb-website-navigation-sidebar-opened",twbb_closeWebsiteNavigation),twbb_navMenuSortable(),twbb_websiteNavigation=new TWBB_WebsiteNavigation}})).always((()=>{}))}function twbb_renderPageTrash(t){t.closest(".wn-menu-trash-active").removeClass("wn-menu-trash-active");const e=t.closest(".twbb-website-nav-sidebar-pages-container").attr("data-post-type");if(jQuery(document).find(".twbb-website-nav-sidebar-container.twbb-wn-inner-trash-page[data-type='"+e+"']").length)return void jQuery(document).find(".twbb-website-nav-sidebar-container.twbb-wn-inner-trash-page[data-type='"+e+"']").show();let n=jQuery("#twbb-wn-trash-managment-page").html();jQuery(".twbb-website-nav-sidebar-container").append(n),jQuery(document).find(".twbb-website-nav-sidebar-container.twbb-wn-inner-trash-page[data-type='']").attr("data-type",e),jQuery(document).find(".twbb-wn-inner-trash-page[data-type='"+e+"'] .twbb-wn-inner-trash-pages-content").append('<div class="twbb-wn-item-loading"></div>'.repeat(3)),jQuery.ajax({url:twbb_website_nav.ajaxurl,type:"POST",data:{action:"wn_trash_management",task:"wm_get_trash_items",post_type:e,nonce:twbb_website_nav.nonce}}).done((t=>{if(t.success){let n=t.data.content;""!==n&&(jQuery(document).find(".twbb-wn-inner-trash-page[data-type='"+e+"'] .twbb-wn-inner-pages-empty-trush-button").removeClass("twbb-empty-trush-button-inactive"),jQuery(document).find(".twbb-wn-inner-trash-page[data-type='"+e+"'] .twbb-wn-inner-trash-pages-content").append(n))}})).always((()=>{jQuery(document).find(".twbb-wn-inner-trash-page[data-type='"+e+"'] .twbb-wn-inner-trash-pages-content .twbb-wn-item-loading").remove()}))}class TWBB_WebsiteNavigationInnerSettings{constructor(){this.init()}init(){this.bindEvents()}bindEvents(){this.closeSettingsInnerPage(),this.inputCheckboxChange(),this.inputValidationOnBlur(),this.saveSettings(),this.postDuplication(),this.moveToTrashEvent(),this.restoreFromTrash()}closeSettingsInnerPage(){jQuery(document).on("click",".twbb-wn-inner-page-settings .twbb-wn-inner-pages-back",(function(t){jQuery(".twbb-wn-inner-page-settings").remove()})),jQuery(document).on("click",".twbb-wn-inner-page-items .twbb-wn-inner-pages-back",(function(t){jQuery(".twbb-wn-inner-page-items").remove()}))}inputCheckboxChange(){jQuery(document).on("change",'.twbb-wn-checkbox-box input[type="checkbox"]',(function(){jQuery(this).hasClass("twbb-input-has-changed")||jQuery(this).addClass("twbb-input-has-changed");const t=jQuery(".twbb-wn-inner-pages-settings-save");jQuery(this).is(":checked")?(jQuery(this).parents(".twbb-wn-checkbox-box").addClass("checked"),"wn-status-setting-id"===jQuery(this).attr("id")&&(jQuery(this).parents(".twbb-wn-checkbox-box-container").find(".twbb-wn-checkbox-label-status").text("Publish"),jQuery(this).parent(".twbb-wn-switcher").find(".twbb-wn-slide-switcher.twbb-tooltip-parent-container-item").attr("data-tooltip-text","Move to Draft"),jQuery(".twbb-wn-show-in-nav-setting").removeClass("disabled").addClass("checked"),jQuery(".twbb-wn-show-in-nav-setting input").prop("disabled",!1).prop("checked",!0).addClass("twbb-input-has-changed"),jQuery(".twbb-wn-home-page-setting").removeClass("disabled"),jQuery(".twbb-wn-home-page-setting input").prop("disabled",!1))):(jQuery(this).parents(".twbb-wn-checkbox-box").removeClass("checked"),"wn-status-setting-id"===jQuery(this).attr("id")&&(jQuery(this).parents(".twbb-wn-checkbox-box-container").find(".twbb-wn-checkbox-label-status").text("Draft"),jQuery(this).parent(".twbb-wn-switcher").find(".twbb-wn-slide-switcher.twbb-tooltip-parent-container-item").attr("data-tooltip-text","Publish"),jQuery(".twbb-wn-show-in-nav-setting").addClass("disabled").removeClass("checked"),jQuery(".twbb-wn-show-in-nav-setting input").prop("disabled",!0).prop("checked",!1).addClass("twbb-input-has-changed"),jQuery(".twbb-wn-home-page-setting").addClass("disabled").removeClass("checked"),jQuery(".twbb-wn-home-page-setting input").prop("disabled",!0).prop("checked",!1).addClass("twbb-input-has-changed"))),t.hasClass("wn-change-exists")||t.addClass("wn-change-exists")})),jQuery(document).on("input",'.twbb-wn-checkbox-box input[type="checkbox"], .twbb-wn-input-box input[type="text"]',(function(){jQuery(this).hasClass("twbb-input-has-changed")||jQuery(this).addClass("twbb-input-has-changed"),"wn-status-setting-id"!==jQuery(this).attr("id")&&"wn-home-page-setting-id"!==jQuery(this).attr("id")||jQuery("#wn-url-slug-setting-id").hasClass("twbb-input-has-changed")||jQuery("#wn-url-slug-setting-id").addClass("twbb-input-has-changed"),""!==jQuery(this).val().trim()&&jQuery(this).parent(".twbb-wn-input-box").removeClass("wn-input-with-error");const t=jQuery(".twbb-wn-inner-pages-settings-save");t.hasClass("wn-change-exists")||t.addClass("wn-change-exists")}))}inputValidationOnBlur(){jQuery(document).on("blur",'.twbb-wn-input-box input[type="text"]',(function(){""===jQuery(this).val().trim()?(jQuery(this).parent(".twbb-wn-input-box").addClass("wn-input-with-error"),jQuery(".twbb-wn-inner-pages-settings-save").removeClass("wn-change-exists")):jQuery(this).parent(".twbb-wn-input-box").removeClass("wn-input-with-error")}))}saveSettings(){let t=this;jQuery(document).on("click",".twbb-wn-inner-pages-settings-save",(function(e){if(e.stopPropagation(),!jQuery(this).hasClass("wn-change-exists"))return;const n=jQuery(this),a=n.attr("data-element-id"),i=n.attr("data-element-db-id"),s=jQuery(`.twbb-wn-item[data-id=${a}]`),r=s.attr("data-type"),o=s.attr("data-object");let b={action:"wn_change_item_settings",nonce:twbb_website_nav.nonce,element_object_id:a,element_db_id:i,type:r,object:o},d="",l=jQuery(".twbb-wn-element-setting-box input");l.each((function(){jQuery(this).hasClass("twbb-input-has-changed")&&(d=jQuery(this).attr("data-attr-name"),"checkbox"===jQuery(this).attr("type")?b[d]=jQuery(this).is(":checked"):b[d]=jQuery(this).val())})),l.attr("disabled",!0),n.addClass("twbb-wn-button-loading"),s.find(".twbb-wn-home-page").length>0&&!1===b.home_page&&(b.home_page="unset"),jQuery.ajax({url:twbb_website_nav.ajaxurl,type:"POST",data:b}).done((t=>{if(t.success){for(const e in b)if(b.hasOwnProperty(e)){const n=b[e];switch(e){case"title":window.twbb_websiteNavigation.itemTitleChange(n,s);break;case"nav_item_title":window.twbb_websiteNavigation.itemNavTitleChange(n,s);break;case"slug":window.twbb_websiteNavigation.itemUrlSlugChange(n,t.data.url,s),jQuery(".twbb-wn-url-slug-setting-description").text(t.data.url).attr("href",t.data.url);break;case"url":window.twbb_websiteNavigation.itemCustomUrlChange(n,s),jQuery(".twbb-wn-description.twbb-wn-url-slug-setting-description").text(n).attr("href",n);break;case"status":window.twbb_websiteNavigation.itemStatusChange(n,s);break;case"home_page":window.twbb_websiteNavigation.itemHomePageChange(n,s)}}if(void 0!==b.show_in_nav){const t=jQuery("#nav_menu_items").data("nav_id");b.show_in_nav?(twbb_navMenuActions.addMenuItem(t,s,twbb_addNavSuccessCallback,!0),s.attr("data-nav_menu_status")&&s.attr("data-nav_menu_status","in_menu")):(window.twbb_websiteNavigation.removeMenuItemFromList(s),s.attr("data-nav_menu_status")&&s.attr("data-nav_menu_status","not_in_menu"),["page","product","post"].includes(o)||jQuery(".twbb-wn-inner-page-settings").remove())}window.twbb_navMenuActions.reRenderNavMenu()}})).always((()=>{l.attr("disabled",!1),n.attr("disabled",!1),n.removeClass("wn-change-exists").removeClass("twbb-wn-button-loading"),1===t.save_from_trash&&(t.save_from_trash=0,jQuery(document).find(".twbb-wn-move-to-trash-setting").trigger("click"))})),"true"===jQuery(this).attr("data-triggered-from-nav-menu")?analyticsDataPush("Website structure","Element settings edit",`Navigation menu ${o}`):analyticsDataPush("Website structure","Element settings edit",o)}))}postDuplication(){jQuery(document).on("click",".twbb-wn-duplicate-setting",(function(t){t.stopPropagation();const e=jQuery(".twbb-wn-inner-pages-settings-save").attr("data-element-id");let n="edit";jQuery("#edit-page-content-link a").attr("href").includes("&action=elementor")&&(n="elementor"),window.TwbbPostDuplicator.duplicatePost(e,n).then((t=>{window.open(t,"_blank")})).catch((t=>{console.error("Error duplicating post:",t)}))}))}moveToTrashEvent(){let t=this;jQuery(document).on("click",".twbb-wn-move-to-trash-setting",(function(e){e.stopPropagation(),t.moveToTrash(jQuery(this))}))}moveToTrash(t){let e=this;const n=t,a=jQuery(".twbb-wn-inner-pages-settings-save").attr("data-element-id");if(n.addClass("twbb-wn-button-loading"),jQuery(document).find(".twbb-wn-loading-layer").show(),jQuery(".twbb-wn-inner-pages-settings-save").hasClass("wn-change-exists"))return e.save_from_trash=1,void jQuery(".twbb-wn-inner-pages-settings-save").trigger("click");let i={action:"wn_trash_management",task:"wn_move_to_trash",nonce:twbb_website_nav.nonce,post_id:a};jQuery.ajax({type:"POST",url:twbb_website_nav.ajaxurl,data:i,success:function(t){if(t.success){n.addClass("twbb-wn-button-success"),setTimeout((function(){n.removeClass("twbb-wn-button-success"),n.removeClass("twbb-wn-move-to-trash-setting").addClass("twbb-wn-restore-from-trash-setting"),n.find(".twbb-wn-settings-button-text").text(e.localized_data.restore_from_trash)}),1e3);const t=jQuery(document).find(".twbb-website-nav-sidebar-content .twbb-wn-item[data-id='"+a+"']");if(t.attr("data-status","trash"),t.closest("#nav_menu_items").length&&window.twbb_websiteNavigation.removeMenuItemFromList(t),t.hasClass("twbb-wn-item-active")&&setTimeout((function(){window.location.href=twbb_website_nav.home_edit_url}),1e3),jQuery(document).find(".twbb-website-nav-sidebar-container.twbb-wn-inner-trash-page[data-type='page']").length){const t=jQuery("#twbb-wn-trash-page-item-template").html(),e=jQuery("#wn-title-setting-id").val();jQuery(".twbb-wn-inner-trash-page[data-type='page'] .twbb-wn-inner-trash-pages-content").prepend(t);const n=jQuery(document).find(".twbb-wn-inner-trash-page[data-type='page'] .twbb-wn-trash-item-new");n.attr("data-id",a),n.find(".twbb-wn-trash-item-title").text(e),n.removeClass("twbb-wn-trash-item-new"),jQuery(document).find(".twbb-wn-inner-trash-page[data-type='page'] .twbb-wn-inner-pages-empty-trush-button").removeClass("twbb-empty-trush-button-inactive")}}else jQuery(document).find(".twbb-wn-loading-layer").hide();window.twbb_navMenuActions.reRenderNavMenu()},complete:function(){n.removeClass("twbb-wn-button-loading")},error:function(t,e){n.removeClass("twbb-wn-button-loading"),jQuery(document).find(".twbb-wn-loading-layer").hide()}})}restoreFromTrash(){let t=this;jQuery(document).on("click",".twbb-wn-restore-from-trash-setting",(function(e){e.stopPropagation();const n=jQuery(this),a=jQuery(".twbb-wn-inner-pages-settings-save").attr("data-element-id");n.addClass("twbb-wn-button-loading"),n.closest(".twbb-wn-inner-pages-content").find(".twbb-wn-loading-layer").show();let i={action:"wn_trash_management",task:"wn_restore_from_trash",nonce:twbb_website_nav.nonce,post_id:a};TwbbPostTrashManager.restoreFromTrash(i).then((e=>{if(e.success){n.addClass("twbb-wn-button-success"),setTimeout((function(){n.removeClass("twbb-wn-button-success"),n.addClass("twbb-wn-move-to-trash-setting").removeClass("twbb-wn-restore-from-trash-setting"),n.find(".twbb-wn-settings-button-text").text(t.localized_data.move_to_trash),n.closest(".twbb-wn-inner-pages-content").find(".twbb-wn-loading-layer").hide()}),1e3);const e=jQuery(document).find(".twbb-website-nav-sidebar-content .twbb-wn-item[data-id='"+a+"']");e.attr("data-status","draft"),e.find(".twbb-wn-status").text("Draft"),jQuery(document).find(".twbb-wn-inner-trash-page[data-type='page']").length&&(jQuery(document).find(".twbb-wn-inner-trash-page[data-type='page'] .twbb-wn-trash-item[data-id='"+a+"']").remove(),jQuery(".twbb-wn-inner-trash-page[data-type='page'] .twbb-wn-trash-item").length||jQuery(document).find(".twbb-wn-inner-trash-page[data-type='page'] .twbb-wn-inner-pages-empty-trush-button").addClass("twbb-empty-trush-button-inactive"))}n.removeClass("twbb-wn-button-loading")})).catch((t=>{n.removeClass("twbb-wn-button-loading")}))}))}renderInnerSettingsPage(t){let e=this;const n=t.attr("data-object");e.localized_data={title:"Title",nav_label:"Navigation label",nav_description:"The navigation title is the page name in the menu.",url_slug:"URL slug",show_in_nav:"Show in navigation menu",page_status:"Page status",home_page:"Set as Home Page",home_page_description:"This page will be set as the home page of your website.",duplicate:"Duplicate",edit_page:"Edit page",move_to_trash:"Move to Trash",restore_from_trash:"Restore",show_in_menu_desc:`Only published ${n}s can be added to the menu.`};let a="";if("custom"===n)a+=this.generateTextInputField("wn-url-slug-setting-id","wn-url-slug-setting","URL*",t.attr("data-url"),`<a class="twbb-wn-description twbb-wn-url-slug-setting-description" href="${t.attr("data-url")}" target="_blank">${t.attr("data-url")}</a>`,"url","URL slug cannot be empty."),a+=this.generateTextInputField("wn-nav-label-setting-id","wn-nav-label-setting",e.localized_data.nav_label,t.attr("data-nav_item_title"),`<span class="twbb-wn-description">${e.localized_data.nav_description}</span>`,"nav_item_title","Navigation label cannot be empty."),a+=this.generateCheckbox("wn-show-in-nav-setting-id",e.localized_data.show_in_nav,t.parents("#nav_menu_items").length>0,"twbb-wn-show-in-nav-setting","","","show_in_nav","active");else{a+=this.generateTextInputField("wn-title-setting-id","wn-title-setting",e.localized_data.title,t.attr("data-title"),"","title","Page title cannot be empty."),void 0!==t.attr("data-nav_item_title")&&(a+=this.generateTextInputField("wn-nav-label-setting-id","wn-nav-label-setting",e.localized_data.nav_label,t.attr("data-nav_item_title"),`<span class="twbb-wn-description">${e.localized_data.nav_description}</span>`,"nav_item_title","Navigation label cannot be empty.")),void 0!==t.attr("data-slug")&&void 0!==t.attr("data-url")&&(a+=this.generateTextInputField("wn-url-slug-setting-id","wn-url-slug-setting",e.localized_data.url_slug,t.attr("data-slug"),`<a class="twbb-wn-description twbb-wn-url-slug-setting-description" href="${t.attr("data-url")}" target="_blank">${t.attr("data-url")}</a>`,"slug","URL slug cannot be empty."));let i="";"page"===n&&(i="twbb-wn-bordered-box",a+=this.generateCheckbox("wn-status-setting-id",`${e.localized_data.page_status}: <span class="twbb-wn-checkbox-label-status">${"publish"===t.attr("data-status")?"Publish":"Draft"}</span>`,"publish"===t.attr("data-status"),"twbb-wn-status-setting","",`${i}_up`,"status","active"));const s="in_menu"===t.attr("data-nav_menu_status")||t.parents("#nav_menu_items").length>0,r="publish"===t.attr("data-status")||s?"active":"disabled",o="active"===r||"page"===n?"":e.localized_data.show_in_menu_desc;a+=this.generateCheckbox("wn-show-in-nav-setting-id",e.localized_data.show_in_nav,s,"twbb-wn-show-in-nav-setting "+("active"===r?"":"disabled"),o,`${i}_bottom`,"show_in_nav",t.parents("#nav_menu_items").length>0?"active":r),"page"===n&&(a+=this.generateCheckbox("wn-home-page-setting-id",e.localized_data.home_page,t.find(".twbb-wn-home-page").length>0,"twbb-wn-home-page-setting "+("active"===r?"":"disabled"),e.localized_data.home_page_description,"","home_page",t.find(".twbb-wn-home-page").length>0?"active":r),a+=`<div class="twbb-wn-element-setting-box twbb-wn-link-box twbb-wn-duplicate-setting">\n                <span class="twbb-wn-tooltip-links">${e.localized_data.duplicate}</span>\n            </div>`,a+=this.generateLinkBox("edit-page-content-link",e.localized_data.edit_page,t.attr("data-content_edit_link"),"twbb-wn-edit-content-setting",""),a+=`<div class="twbb-wn-loading-layer"></div><div class="twbb-wn-trash-container">\n                                    <div class="twbb-wn-element-setting-box twbb-wn-trash-box twbb-wn-move-to-trash-setting">\n                                        <span class="wn-move-to-trash-button twbb-wn-settings-button-text">${e.localized_data.move_to_trash}</span>\n                                        <span class="twbb-wn-settings-button-spinner"></span>\n                                        <span class="twbb-wn-settings-button-success"></span>\n                                    </div>\n                                </div>`),"page"!==n&&(i="",""!==t.attr("data-template_link")&&void 0!==t.attr("data-template_link")&&("taxonomy"!==t.attr("data-type")&&(i="twbb-wn-bordered-box"),a+=this.generateLinkBox("edit-template-link",`Edit ${t.attr("data-template_title")} template`,t.attr("data-template_link"),`twbb-wn-edit-template-setting  ${i}_up`,"")),"taxonomy"!==t.attr("data-type")&&(a+=this.generateLinkBox("edit-content-link",`Edit ${t.attr("data-nav_label")} content`,t.attr("data-content_edit_link"),`twbb-wn-edit-content-setting  ${i}_bottom`,"")))}return a}generateTextInputField(t,e,n,a,i="",s="",r=""){return`\n    <div class="twbb-wn-element-setting-box twbb-wn-input-box ${t}">\n        <label for="${t}">${n}</label>\n        <input type="text" id="${t}" name="${e}" value="${a}" data-attr-name="${s}"/>\n        <span class="twbb-wn-error-message">${r}</span>\n        ${i?`${i}`:""}\n    </div>`}generateCheckbox(t,e,n,a="",i="",s="",r="",o=""){return`\n    <div class="twbb-wn-element-setting-box twbb-wn-checkbox-box ${n?"checked":""} ${a}">\n        <div class="twbb-wn-checkbox-box-container ${s}">\n            <span>${e}</span>\n            <label class="twbb-wn-switcher">\n                <input id="${t}" type="checkbox" ${n?"checked":""} data-attr-name="${r}"\n                ${"active"===o?"":"disabled"}>\n                ${"wn-status-setting-id"===t?`\n                <span class="twbb-wn-slide-switcher twbb-tooltip-parent-container-item" \n                            data-tooltip-text="${n?"Move to Draft":"Publish"}"></span>`:'<span class="twbb-wn-slide-switcher"></span>'}  \n            </label>\n        </div>\n        ${i?`<span class="twbb-wn-description">${i}</span>`:""}\n    </div>`}generateLinkBox(t,e,n,a="",i=""){return`\n    <div class="twbb-wn-element-setting-box twbb-wn-link-box ${a}" id="${t}">\n        <a class="twbb-wn-tooltip-links" href="${n}" target="_blank">\n            ${e}\n        </a>\n        ${i?`<span class="twbb-wn-description">${i}</span>`:""}\n    </div>`}}